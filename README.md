# ğŸ›¡ï¸ è©é¨™æª¢èˆ‰å¹³å° Demo

ä¸€å€‹åŸºæ–¼å€å¡ŠéˆæŠ€è¡“çš„è©é¨™æª¢èˆ‰å¹³å°ï¼Œä½¿ç”¨ä»¥å¤ªåŠæ™ºèƒ½åˆç´„å„²å­˜æª¢èˆ‰è¨˜éŒ„ï¼Œä¸¦é€éæ¨¡æ“¬ IPFS ç³»çµ±ç®¡ç†æª¢èˆ‰å…§å®¹ã€‚

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

æ­¤å¹³å°å…è¨±ç”¨æˆ¶é€šé MetaMask éŒ¢åŒ…é€£æ¥ï¼Œæäº¤è©é¨™æª¢èˆ‰ä¸¦å°‡è¨˜éŒ„æ°¸ä¹…ä¿å­˜åœ¨å€å¡Šéˆä¸Šã€‚æª¢èˆ‰å…§å®¹é€šéæ¨¡æ“¬çš„ IPFS ç³»çµ±é€²è¡Œç®¡ç†ï¼Œæ”¯æ´å¤šç¨®è©é¨™é¡å‹æ¨™ç±¤åˆ†é¡ï¼Œæä¾›å®Œæ•´çš„æª¢èˆ‰è¨˜éŒ„ç®¡ç†åŠŸèƒ½ã€‚

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
scam-report-demo/
â”œâ”€â”€ backend/                    # å¾Œç«¯ API æœå‹™
â”‚   â”œâ”€â”€ .env.example           # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹æ–‡ä»¶
â”‚   â”œâ”€â”€ index.js               # ä¸»è¦å¾Œç«¯é‚è¼¯èˆ‡ API ç«¯é»
â”‚   â”œâ”€â”€ package.json           # å¾Œç«¯ä¾è³´ç®¡ç†
â”‚   â””â”€â”€ ReportRegistryABI.json # æ™ºèƒ½åˆç´„ ABI å®šç¾©
â”œâ”€â”€ contracts/                 # æ™ºèƒ½åˆç´„æª”æ¡ˆ
â”‚   â”œâ”€â”€ ReportRegistry.sol     # è©é¨™èˆ‰å ±æ™ºèƒ½åˆç´„
â”‚   â””â”€â”€ README.md              # åˆç´„éƒ¨ç½²èªªæ˜
â”œâ”€â”€ frontend/                  # å‰ç«¯ä»‹é¢
â”‚   â”œâ”€â”€ improved-index.html    # ä¸»è¦æª¢èˆ‰å¹³å°ä»‹é¢
â”‚   â””â”€â”€ test-reports.html      # æª¢èˆ‰è¨˜éŒ„æ¸¬è©¦èˆ‡ç®¡ç†é é¢
â”œâ”€â”€ .gitignore                 # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â””â”€â”€ README.md                  # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
```

## âš¡ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- **Node.js 18+** - JavaScript åŸ·è¡Œç’°å¢ƒ
- **MetaMask** - ç€è¦½å™¨éŒ¢åŒ…æ“´å±•
- **Sepolia æ¸¬è©¦ç¶² ETH** - ç”¨æ–¼æ”¯ä»˜ Gas è²»ç”¨

### 1. å…‹éš†å°ˆæ¡ˆ

```bash
git clone https://github.com/alex97036/TruthDAO.git
cd TruthDAO
```

### 2. æ™ºèƒ½åˆç´„éƒ¨ç½²

**âš ï¸ é‡è¦ï¼šå¿…é ˆå…ˆéƒ¨ç½²æ™ºèƒ½åˆç´„æ‰èƒ½ä½¿ç”¨å¹³å°åŠŸèƒ½**

è«‹åƒè€ƒ [contracts/README.md](contracts/README.md) ç²å–è©³ç´°çš„åˆç´„éƒ¨ç½²æŒ‡å—ã€‚

**å¿«é€Ÿéƒ¨ç½²æ­¥é©Ÿï¼š**
1. å‰å¾€ [Remix IDE](https://remix.ethereum.org/)
2. è¤‡è£½ `contracts/ReportRegistry.sol` çš„å…§å®¹
3. åœ¨ Remix ä¸­å»ºç«‹æ–°æª”æ¡ˆä¸¦è²¼ä¸Šåˆç´„ç¨‹å¼ç¢¼
4. é¸æ“‡é©ç•¶çš„ Solidity ç·¨è­¯å™¨ç‰ˆæœ¬ä¸¦ç·¨è­¯
5. é€£æ¥ MetaMask ä¸¦åˆ‡æ›åˆ° Sepolia æ¸¬è©¦ç¶²è·¯
6. éƒ¨ç½²åˆç´„ä¸¦è¨˜ä¸‹åˆç´„åœ°å€

### 3. å¾Œç«¯è¨­ç½®

```bash
cd backend
npm install
```

è¤‡è£½ä¸¦è¨­ç½®ç’°å¢ƒè®Šæ•¸ï¼š

```bash
cp .env.example .env
```

ç·¨è¼¯ `.env` æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹åƒæ•¸ï¼š

```env
# ä»¥å¤ªåŠ Sepolia æ¸¬è©¦ç¶²è·¯ RPC ç«¯é»
NETWORK_URL=https://eth-sepolia.public.blastapi.io

# éƒ¨ç½²è€…ç§é‘°ï¼ˆâš ï¸ åƒ…ç”¨æ–¼æ¸¬è©¦ï¼Œè«‹å‹¿ä½¿ç”¨çœŸå¯¦ç§é‘°ï¼‰
PRIVATE_KEY=your_test_private_key_here

# å·²éƒ¨ç½²çš„æ™ºèƒ½åˆç´„åœ°å€ï¼ˆè«‹æ›¿æ›ç‚ºæ‚¨éƒ¨ç½²çš„åˆç´„åœ°å€ï¼‰
CONTRACT_ADDRESS=0x18b72bfa680eec68e0fce91b810de8140c54b916

# å¾Œç«¯æœå‹™ç«¯å£
PORT=3000

# IPFS APIï¼ˆDemo æ¨¡å¼å¯ä¿æŒé è¨­å€¼ï¼‰
IPFS_API_URL=https://ipfs.infura.io:5001
```

### 4. å•Ÿå‹•å¾Œç«¯æœå‹™

```bash
# æ­£å¸¸å•Ÿå‹•
npm start

# é–‹ç™¼æ¨¡å¼ï¼ˆè‡ªå‹•é‡è¼‰ï¼‰
npm run dev
```

å¾Œç«¯æœå‹™å°‡åœ¨ `http://localhost:3000` ä¸Šé‹è¡Œ

### 5. å•Ÿå‹•å‰ç«¯

ç›´æ¥åœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿ HTML æ–‡ä»¶ï¼š

- **ä¸»è¦å¹³å°**: `frontend/improved-index.html`
- **ç®¡ç†å¾Œå°**: `frontend/test-reports.html`

### 6. è¨­å®šå‰ç«¯åˆç´„åœ°å€

é–‹å•Ÿå‰ç«¯é é¢å¾Œï¼Œéœ€è¦åœ¨å‰ç«¯ä»‹é¢ä¸­è¨­å®šæ‚¨éƒ¨ç½²çš„åˆç´„åœ°å€ï¼Œä»¥ç¢ºä¿å‰ç«¯èƒ½æ­£ç¢ºèˆ‡æ™ºèƒ½åˆç´„äº’å‹•ã€‚

## ğŸ¯ ä¸»è¦åŠŸèƒ½

### ğŸ“ æª¢èˆ‰æäº¤åŠŸèƒ½
- **éŒ¢åŒ…é€£æ¥**: é€é MetaMask é€²è¡Œèº«ä»½é©—è­‰
- **å¤šæ¨™ç±¤åˆ†é¡**: æ”¯æ´ 11 ç¨®è©é¨™é¡å‹æ¨™ç±¤é¸æ“‡
- **å…§å®¹ç®¡ç†**: æ¨¡æ“¬ IPFS å…§å®¹å„²å­˜èˆ‡ CID ç”Ÿæˆ
- **å€å¡Šéˆè¨˜éŒ„**: æª¢èˆ‰è¨˜éŒ„æ°¸ä¹…ä¿å­˜åœ¨æ™ºèƒ½åˆç´„ä¸­

### ğŸ“Š æª¢èˆ‰è¨˜éŒ„ç®¡ç†
- **å³æ™‚çµ±è¨ˆ**: é¡¯ç¤ºç¸½æª¢èˆ‰æ•¸èˆ‡ä»Šæ—¥æª¢èˆ‰çµ±è¨ˆ
- **æ¨™ç±¤ç¯©é¸**: ä¾æ“šè©é¨™é¡å‹æ¨™ç±¤ç¯©é¸æª¢èˆ‰è¨˜éŒ„
- **è©³ç´°è³‡è¨Š**: åŒ…å«æª¢èˆ‰äººã€æ™‚é–“ã€å…§å®¹é è¦½ç­‰å®Œæ•´è³‡è¨Š
- **æ­·å²æŸ¥è©¢**: æ”¯æ´å®Œæ•´æª¢èˆ‰è¨˜éŒ„ç€è¦½èˆ‡æœå°‹

### ğŸ”§ é–‹ç™¼è€…å·¥å…·
- **API æ¸¬è©¦**: é©—è­‰å¾Œç«¯ API æœå‹™å¯ç”¨æ€§
- **é€£ç·šè¨ºæ–·**: æ¸¬è©¦å€å¡Šéˆé€£æ¥èˆ‡æ™ºèƒ½åˆç´„äº’å‹•
- **æ•¸æ“šé©—è­‰**: ç¢ºä¿æª¢èˆ‰è¨˜éŒ„çš„å®Œæ•´æ€§å’Œæº–ç¢ºæ€§

## ğŸ› ï¸ æŠ€è¡“æ£§

### å‰ç«¯æŠ€è¡“
- **HTML5/CSS3/JavaScript**: åŸºç¤ç¶²é æŠ€è¡“
- **Ethers.js v5.7.2**: ä»¥å¤ªåŠå€å¡Šéˆäº’å‹•åº«
- **MetaMask Integration**: éŒ¢åŒ…é€£æ¥èˆ‡äº¤æ˜“ç°½å
- **Responsive Design**: éŸ¿æ‡‰å¼è¨­è¨ˆæ”¯æ´å„ç¨®è£ç½®

### å¾Œç«¯æŠ€è¡“
- **Node.js + Express**: RESTful API æœå‹™æ¡†æ¶
- **Ethers.js v6.14.3**: æ™ºèƒ½åˆç´„äº’å‹•åº«
- **CORS**: è·¨åŸŸè³‡æºå…±äº«æ”¯æ´
- **æ¨¡æ“¬ IPFS**: å…§å®¹é›œæ¹Šèˆ‡åˆ†æ•£å¼å„²å­˜æ¨¡æ“¬

### å€å¡ŠéˆæŠ€è¡“
- **Ethereum Sepolia**: æ¸¬è©¦ç¶²è·¯ç’°å¢ƒ
- **Smart Contract**: æª¢èˆ‰è¨˜éŒ„å„²å­˜èˆ‡ç®¡ç†ï¼ˆéœ€è‡ªè¡Œéƒ¨ç½²ï¼‰
- **Web3 Integration**: å»ä¸­å¿ƒåŒ–æ‡‰ç”¨äº’å‹•

## ğŸ“¡ API æ–‡æª”

### æª¢èˆ‰ç®¡ç†ç«¯é»

#### æäº¤æª¢èˆ‰
```http
POST /submit
Content-Type: application/json

{
  "content": "æª¢èˆ‰è©³ç´°å…§å®¹",
  "tags": ["ç¶²è·¯è©é¨™", "æŠ•è³‡è©é¨™"]
}
```

**å›æ‡‰:**
```json
{
  "success": true,
  "cid": "QmXxxxxxxxxxx..."
}
```

#### ç²å–æ‰€æœ‰æª¢èˆ‰
```http
GET /reports
```

**å›æ‡‰:**
```json
{
  "success": true,
  "reports": [
    {
      "reporter": "0x...",
      "cid": "QmXxx...",
      "timestamp": 1672531200,
      "content": "æª¢èˆ‰å…§å®¹",
      "tags": ["ç¶²è·¯è©é¨™"]
    }
  ]
}
```

#### ç²å–ç‰¹å®šæª¢èˆ‰
```http
GET /reports/:index
```

#### ç²å–æª¢èˆ‰å…§å®¹
```http
GET /content/:cid
```

### çµ±è¨ˆè³‡è¨Šç«¯é»

#### ç²å–å¹³å°çµ±è¨ˆ
```http
GET /stats
```

**å›æ‡‰:**
```json
{
  "success": true,
  "stats": {
    "total": 150,
    "today": 5,
    "lastUpdated": "2024-01-15T10:30:00Z"
  }
}
```

## ğŸ·ï¸ è©é¨™é¡å‹æ¨™ç±¤

å¹³å°æ”¯æ´ä»¥ä¸‹è©é¨™é¡å‹åˆ†é¡ï¼š

| æ¨™ç±¤ | æè¿° | åœ–ç¤º |
|------|------|------|
| ç¶²è·¯è©é¨™ | ä¸€èˆ¬ç¶²è·¯ç›¸é—œè©é¨™è¡Œç‚º | ğŸŒ |
| æŠ•è³‡è©é¨™ | è™›å‡æŠ•è³‡ã€ç†è²¡è©é¨™ | ğŸ’° |
| åŠ å¯†è²¨å¹£ | è™›æ“¬è²¨å¹£ç›¸é—œè©é¨™ | â‚¿ |
| é›»è©±è©é¨™ | é›»è©±é¨·æ“¾ã€è©é¨™é›»è©± | ğŸ“ |
| ç°¡è¨Šè©é¨™ | è©é¨™ç°¡è¨Šã€é‡£é­šç°¡è¨Š | ğŸ“± |
| é‡£é­šç¶²ç«™ | å½é€ å®˜æ–¹ç¶²ç«™ | ğŸ£ |
| å‡å†’èº«ä»½ | å†’å……ä»–äººèº«ä»½ | ğŸ‘¤ |
| è³¼ç‰©è©é¨™ | ç¶²è³¼ã€äº¤æ˜“è©é¨™ | ğŸ›’ |
| æ„›æƒ…è©é¨™ | æ„Ÿæƒ…è©é¨™ã€äº¤å‹è©é¨™ | ğŸ’• |
| æ±‚è·è©é¨™ | è™›å‡å·¥ä½œæ©Ÿæœƒ | ğŸ’¼ |
| å…¶ä»– | å…¶ä»–é¡å‹è©é¨™ | â“ |

## ğŸ”§ é–‹ç™¼èªªæ˜

### æ™ºèƒ½åˆç´„ä»‹é¢

æ™ºèƒ½åˆç´„ ABI å®šç¾©åœ¨ `backend/ReportRegistryABI.json`ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š

- `submitReport(string cid)`: æäº¤æª¢èˆ‰è¨˜éŒ„
- `getReport(uint256 index)`: ç²å–ç‰¹å®šæª¢èˆ‰è¨˜éŒ„
- `getReportCount()`: ç²å–æª¢èˆ‰ç¸½æ•¸

### æ¨¡æ“¬ IPFS ç³»çµ±

ç‚ºäº†ç°¡åŒ– Demo æµç¨‹ï¼Œæœ¬å°ˆæ¡ˆä½¿ç”¨æ¨¡æ“¬ IPFS ç³»çµ±ï¼š

```javascript
const generateMockCID = (content) => {
  const hash = crypto.createHash('sha256').update(content).digest('hex');
  return `Qm${hash.substring(0, 44)}`;
};
```

### ç’°å¢ƒè¨­ç½®

1. **æ™ºèƒ½åˆç´„éƒ¨ç½²**: 
   - ä½¿ç”¨ [Remix IDE](https://remix.ethereum.org/) éƒ¨ç½² `contracts/ReportRegistry.sol`
   - è©³ç´°æ­¥é©Ÿè«‹åƒè€ƒ [contracts/README.md](contracts/README.md)
2. **æ¸¬è©¦ç¶²è·¯è¨­ç½®**: åœ¨ MetaMask ä¸­æ·»åŠ  Sepolia æ¸¬è©¦ç¶²è·¯
3. **æ¸¬è©¦ ETH**: å¾ [Sepolia Faucet](https://sepoliafaucet.com/) ç²å–æ¸¬è©¦ä»£å¹£
4. **åˆç´„åœ°å€é…ç½®**: å°‡éƒ¨ç½²çš„åˆç´„åœ°å€æ›´æ–°åˆ° `.env` æ–‡ä»¶å’Œå‰ç«¯é…ç½®ä¸­

## ğŸš€ éƒ¨ç½²æŒ‡å—

### æœ¬åœ°é–‹ç™¼ç’°å¢ƒ

1. **éƒ¨ç½²æ™ºèƒ½åˆç´„**: å…ˆæŒ‰ç…§ `contracts/README.md` éƒ¨ç½²åˆç´„
2. **é…ç½®åˆç´„åœ°å€**: æ›´æ–° `.env` æ–‡ä»¶ä¸­çš„ `CONTRACT_ADDRESS`
3. **å•Ÿå‹•å¾Œç«¯æœå‹™**: `npm start`
4. **é–‹å•Ÿå‰ç«¯é é¢**: åœ¨ç€è¦½å™¨ä¸­æ‰“é–‹ HTML æ–‡ä»¶
5. **é€£æ¥ MetaMask**: ä¸¦åˆ‡æ›åˆ° Sepolia æ¸¬è©¦ç¶²

### ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

**å¾Œç«¯éƒ¨ç½²:**
```bash
# ä½¿ç”¨ PM2 ç®¡ç†é€²ç¨‹
npm install -g pm2
pm2 start index.js --name "scam-report-backend"
```

**å‰ç«¯éƒ¨ç½²:**
- å°‡ HTML æ–‡ä»¶éƒ¨ç½²åˆ°ä»»ä½•éœæ…‹ç¶²ç«™è¨—ç®¡æœå‹™
- ç¢ºä¿ API ç«¯é»é…ç½®æ­£ç¢º

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

**Q: MetaMask é€£æ¥å¤±æ•—**
A: ç¢ºä¿å·²å®‰è£ MetaMask ä¸¦åˆ‡æ›åˆ° Sepolia æ¸¬è©¦ç¶²è·¯

**Q: äº¤æ˜“å¤±æ•—**
A: æª¢æŸ¥æ¸¬è©¦ ETH é¤˜é¡æ˜¯å¦è¶³å¤ æ”¯ä»˜ Gas è²»ç”¨

**Q: API é€£æ¥éŒ¯èª¤**
A: ç¢ºèªå¾Œç«¯æœå‹™æ­£åœ¨é‹è¡Œä¸”ç«¯å£é…ç½®æ­£ç¢º

**Q: æ™ºèƒ½åˆç´„äº’å‹•å¤±æ•—**
A: é©—è­‰åˆç´„åœ°å€å’Œ ABI é…ç½®æ˜¯å¦æ­£ç¢º

### æ—¥èªŒæŸ¥çœ‹

```bash
# æŸ¥çœ‹å¾Œç«¯æ—¥èªŒ
tail -f backend/logs/app.log

# æª¢æŸ¥ PM2 ç‹€æ…‹
pm2 status
pm2 logs scam-report-backend
```

## ğŸ“ é–‹ç™¼è¨ˆç•«

### å³å°‡æ¨å‡ºåŠŸèƒ½
- [ ] ä½¿ç”¨è€…èº«ä»½é©—è­‰ç³»çµ±
- [ ] æª¢èˆ‰è¨˜éŒ„è©•åˆ†æ©Ÿåˆ¶
- [ ] é€²éšæœå°‹èˆ‡ç¯©é¸åŠŸèƒ½
- [ ] è³‡æ–™åŒ¯å‡ºåŠŸèƒ½
- [ ] å¤šèªè¨€æ”¯æ´

### æŠ€è¡“æ”¹é€²
- [ ] æ•´åˆçœŸå¯¦ IPFS ç¶²è·¯
- [ ] è³‡æ–™åº«æŒä¹…åŒ–å„²å­˜
- [ ] æ•ˆèƒ½æœ€ä½³åŒ–
- [ ] å–®å…ƒæ¸¬è©¦è¦†è“‹
- [ ] Docker å®¹å™¨åŒ–

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿åƒèˆ‡å°ˆæ¡ˆé–‹ç™¼ï¼è«‹éµå¾ªä»¥ä¸‹æ­¥é©Ÿï¼š

1. Fork æ­¤å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/æ–°åŠŸèƒ½`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'æ–°å¢æŸåŠŸèƒ½'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/æ–°åŠŸèƒ½`
5. æäº¤ Pull Request


## ğŸ‘¥ é–‹ç™¼åœ˜éšŠ

- **å°ˆæ¡ˆç¶­è­·è€…**: Alex Hsu
- **GitHub**: [alex97036](https://github.com/alex97036)

## ğŸ“ è¯çµ¡è³‡è¨Š

- **å°ˆæ¡ˆé¦–é **: [https://github.com/alex97036/TruthDAO](https://github.com/alex97036/TruthDAO)
- **å•é¡Œå›å ±**: [https://github.com/alex97036/TruthDAO/issues](https://github.com/alex97036/TruthDAO/issues)
- **æŠ€è¡“è¨è«–**: æ­¡è¿é€é GitHub Issues é€²è¡ŒæŠ€è¡“è¨è«–

---

â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦æˆ‘å€‘ä¸€å€‹ Starï¼

ğŸ›¡ï¸ **è®“æˆ‘å€‘ä¸€èµ·æ‰“æ“Šè©é¨™ï¼Œä¿è­·æ¯ä¸€å€‹äººçš„æ•¸ä½å®‰å…¨ï¼**
